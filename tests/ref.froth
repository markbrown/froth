; Test ref and deref operators

; Basic ref and deref
42 ref /r
r deref print
" " print

; Deduplication: same value returns same index
42 ref /r2
r r2 = print
" " print

; Different value gets different index
99 ref /r3
r r3 = print
" " print

; Arrays
[ 1 2 3 ] ref /arr-ref
arr-ref deref print
" " print

; Closures can be stored and retrieved
{ 1 2 + } ref /fn-ref
fn-ref deref ! print
" " print

; Nested structures
$ 42 'answer : ref /map-ref
map-ref deref 'answer @ println!
