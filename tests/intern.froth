; Test intern operators
; Tests focus on invariants, not specific ID values

; Same string gives same ID
{ "\n" println! } /nl

"foo" intern "foo" intern = println!

; String and identifier with same name give same ID
"bar" intern 'bar intern = println!

; String and binder with same name give same ID
"baz" intern '/baz intern = println!

; Round-trip: string -> id -> string
"hello" intern idToString println!

; Round-trip: identifier -> id -> identifier
'world intern idToIdent writeln!

; Round-trip: binder -> id -> binder
'/test intern idToBinder writeln!

; Different strings give different IDs
"aaa" intern "bbb" intern = println!
