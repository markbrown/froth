; Benchmark env optimize! restore
; Note: must be done inline since closures have lexical scoping

"Bindings before: " print env count-bindings! println!

; Time the optimization
time env optimize! time
/end /opt-env /start
end start - println!
opt-env restore

"Bindings after: " print env count-bindings! println!

; Second run - should be faster (already optimized)
time env optimize! time
/end /opt-env /start
end start - println!
opt-env restore

; Third run
time env optimize! time
/end /opt-env /start
end start - println!
opt-env restore
