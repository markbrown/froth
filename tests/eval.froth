; Test meta-interpreter

; Helper to run and print result

{ /closure /stack
  stack closure eval!
  /status
  status 0 = {
    fst println!
  } {
    println!  ; println! error message
  } ?!
} /run

; Integer literal
. { 42 } run!

; Addition
. { 3 4 + } run!

; Subtraction
. { 10 3 - } run!

; Multiplication
. { 5 6 * } run!

; Variable binding
. { 10 /x x } run!

; Expression
. { 5 3 * 2 + } run!

; Nested function
. { { 1 2 + } ! } run!

; Initial stack
. 10 , { 5 + } run!

; Equality
. { 5 5 = } run!
. { 5 6 = } run!

; Closure capturing variable
. { 10 /x { x 1 + } ! } run!

; Quoted term
. { 'foo isIdent } run!

; Generator
. { [ 1 2 3 ] } run!
