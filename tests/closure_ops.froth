; Test closure operators

; Test isClosure
{ 1 2 + } isClosure println!
42 isClosure println!
. 1 , isClosure println!

; Test closureEnv and closureBody
10 /x
{ x 1 + } /f

; closureEnv should return the environment
f closureEnv 'x @ println!

; closureBody should return the function term
f closureBody isFunc println!

; Test close operator - create closure manually
$ 5 'y : /my-env
'{ y 2 * } /my-body
my-env my-body close /g

; Apply the manually created closure
g! println!

; Verify the manually created closure is a closure
g isClosure println!

; Extract and verify env and body from manually created closure
g closureEnv 'y @ println!
g closureBody isFunc println!
