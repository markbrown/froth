; lib/map.froth
; Map utilities

; restrict: (map keys -- map)
; Restrict map to only the keys in the array.
; Ignores array elements that are not quoted identifiers.
{ /keys /m
  keys $ {
    /k /result
    k isIdent {
      m k in {
        result m k @ k :
      } {
        result
      } ?!
    } {
      result
    } ?!
  } reduce!
} /restrict
